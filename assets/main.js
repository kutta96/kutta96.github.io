function sliderInit(slider){var rightImage=slider.querySelector(".rightImage");var handle=slider.querySelector(".handle");function slideTo(x){var rect=slider.getBoundingClientRect();var split=Math.max(3,Math.min(97,100*(x-rect.left)/rect.width));rightImage.style.clipPath="polygon("+split+"% 0%, 100% 0%, 100% 100%, "+split+"% 100%)";handle.style.left=split+"%";}
var sliding=false;handle.addEventListener("mousedown",function(e){sliding=true;slideTo(e.clientX);});window.addEventListener("mouseup",function(e){sliding=false;});window.addEventListener("mousemove",function(e){if(sliding)slideTo(e.clientX);});handle.addEventListener("touchstart",function(e){sliding=true;slideTo(e.touches[0].clientX);e.preventDefault();});window.addEventListener("touchend",function(e){sliding=false;});window.addEventListener("touchmove",function(e){if(sliding)slideTo(e.touches[0].clientX);});}
var sliders=document.getElementsByClassName("slider");for(var i=0;i<sliders.length;i++){sliderInit(sliders.item(i));}